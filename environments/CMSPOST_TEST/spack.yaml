# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.
# NOTICE: intel-tbb should not be replaced with intel-oneapi-tbb, the latter one is pre-built and not configurable
# NOTICE: ~cuda~nvml for now
#   - cudnn@8.2.2.26
#   - py-typing@3.7.4.3 NB: not needed for py 3.7+
#   - py-tensorflow-estimator@2.6.0 -> part of tf
#   - py-rep@0.6.6
# TO CHECK:
#   - py-jupyterlab-widgets@1.0.1 - maybe use wheel to avoid py-jupter-packaging dep?
#   - py-ipywidgets@7.6.5 - depends on jupyterlab-widgets
#   - py-jupyter@1.0.0 - depends on py-qtconsole
spack:
  concretization: together
  packages:
    all:
      buildable: true
      compiler: [gcc@9.3.0]
      target:
      - prescott
      version: []
      variants: [cxxstd=17, build_type=Release]
    mesa-glu:
      externals: [{spec: mesa-glu@9.0.0, prefix: /usr}]
      buildable: false
    binutils:
      externals: [{spec: binutils@2.32, prefix: /cvmfs/cms.cern.ch/slc7_amd64_gcc900/external/gcc/9.3.0}]
      buildable: false
    openssl:
      externals: [{spec: openssl@1.0.2k-fips, prefix: /usr}]
      buildable: false
    groff:
      externals: [{spec: groff@1.22.2, prefix: /usr}]
      buildable: false
    sed:
      externals: [{spec: sed@4.2.2, prefix: /usr}]
      buildable: false
    libx11:
      externals: [{spec: libx11@1.7.0, prefix: /usr}]
      buildable: false
    libxext:
      externals: [{spec: libxext@1.3.3, prefix: /usr}]
      buildable: false
    libxft:
      externals: [{spec: libxft@2.3.2, prefix: /usr}]
      buildable: false
    libice:
      externals: [{spec: libice@1.0.9, prefix: /usr}]
      buildable: false
    libsm:
      externals: [{spec: libsm@1.2.3, prefix: /usr}]
      buildable: false
    libxpm:
      externals: [{spec: libxpm@4.11.0, prefix: /usr}]
      buildable: false
    xextproto:
      externals: [{spec: xextproto@7.3.0, prefix: /usr}]
      buildable: false
    mesa:
      variants: [~llvm]
    llvm:
      variants: [~gold]
    gdk-pixbuf:
      variants: [~x11]
    libarchive:
      variants: [crypto=openssl]
  view: false
  specs:
    - crab
    - cms-git-tools